<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Hello Operator</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>

    <main>

      <div class="operator-panel">
        <div class="op-enabled">
          <input type="checkbox" id="op1-enabled" value="0">
          <label for="op1-enabled">OP 1</label>

          <input type="checkbox" id="op2-enabled" value="1">
          <label for="op2-enabled">OP 2</label>

          <input type="checkbox" id="op3-enabled" value="2">
          <label for="op3-enabled">OP 3</label>

          <input type="checkbox" id="op4-enabled" value="3">
          <label for="op4-enabled">OP 4</label>

          <input type="checkbox" id="op5-enabled" value="4">
          <label for="op5-enabled">OP 5</label>

          <input type="checkbox" id="op6-enabled" value="5">
          <label for="op6-enabled">OP 6</label>
        </div>

        <div class="operator-selection">
          <label for="op-selected">Editing:</label>
          <select id="op-selected">
            <option value="0">OP 1</option>
            <option value="1">OP 2</option>
            <option value="2">OP 3</option>
            <option value="3">OP 4</option>
            <option value="4">OP 5</option>
            <option value="5">OP 6</option>
          </select>
        </div>

        <div class="operator-editing">
          <div class="params">
            <rotary-encoder
              data-param="coarse"
            > Coarse </rotary-encoder>

            <rotary-encoder
              data-param="fine"
            > Fine </rotary-encoder>
            
            <rotary-encoder
              data-param="fixed"
            > Fixed </rotary-encoder>

            <rotary-encoder
              data-param="level"
            > Level </rotary-encoder>
          </div>
        </div>
      </div>

    </main>

    <script type="module">

import "./js/rotaryEncoder.js";
import "./js/controller.js";

// document.documentElement.addEventListener("keydown", function(e) {
//   if (e.key == "]") {
//     dx7.algorithm = (dx7.algorithm + 1) % 33
//     if (dx7.algorithm == 0) dx7.algorithm++;
//     console.log(dx7.algorithm);
//     return;
//   }
//   if (e.key == "[") {
//     dx7.algorithm -= 1;
//     if (dx7.algorithm < 1) dx7.algorithm = 32;
//     console.log(dx7.algorithm);
//     return;
//   }
//   if ("123456".includes(e.key)) {
//     return dx7.toggleOperator(e.key - 1);
//   }
//   var note = keyMap[e.key];
//   if (!note) return;
//   var f = dx7.midiToFrequency(note);
//   dx7.noteOn(f, 127);
// });

// document.documentElement.addEventListener("keyup", function(e) {
//   var note = keyMap[e.key];
//   if (!note) return;
//   var f = dx7.midiToFrequency(note);
//   dx7.noteOff(f);
// });




    </script>
  </body>
</html>